"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[823],{7823:function(e,o,r){r.r(o),r.d(o,{default:function(){return J}});var l=r(3396),a=r(9242);const c={class:"container"},t={class:"row justify-content-center mt-5"},n={class:"col-md-8"},d={class:"card"},s=(0,l._)("div",{class:"card-header"},[(0,l._)("h2",{class:"mb-0"},"Sua Conta")],-1),i={class:"card-body"},u=(0,l._)("h4",{class:"mb-3"},"Informações Pessoais",-1),p={class:"form-group"},m=(0,l._)("label",{for:"nome"},"Nome:",-1),f={class:"form-group"},h=(0,l._)("label",{for:"cpf"},"CPF:",-1),_={class:"form-group"},b=(0,l._)("label",{for:"telefone"},"Telefone:",-1),y={class:"form-group"},g=(0,l._)("label",{for:"email"},"Email:",-1),v=(0,l._)("h4",{class:"mb-3"},"Endereço",-1),w={class:"form-group"},U=(0,l._)("label",{for:"cep"},"CEP:",-1),C={class:"input-group"},E={class:"input-group-append"},S={class:"form-group"},x=(0,l._)("label",{for:"logradouro"},"Logradouro:",-1),V={class:"form-group"},k=(0,l._)("label",{for:"complemento"},"Complemento:",-1),$={class:"form-group"},Z=(0,l._)("label",{for:"bairro"},"Bairro:",-1),D={class:"form-group"},P=(0,l._)("label",{for:"localidade"},"Localidade:",-1),T={class:"form-group"},I=(0,l._)("label",{for:"uf"},"UF:",-1);function j(e,o,r,j,F,L){return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",t,[(0,l._)("div",n,[(0,l._)("div",d,[s,(0,l._)("div",i,[(0,l._)("form",null,[u,(0,l._)("div",p,[m,(0,l.wy)((0,l._)("input",{type:"text",id:"nome","onUpdate:modelValue":o[0]||(o[0]=e=>F.cliente.name=e),class:"form-control",placeholder:"Seu Nome"},null,512),[[a.nr,F.cliente.name]])]),(0,l._)("div",f,[h,(0,l.wy)((0,l._)("input",{type:"text",id:"cpf","onUpdate:modelValue":o[1]||(o[1]=e=>F.cliente.cpf=e),class:"form-control",placeholder:"Seu CPF"},null,512),[[a.nr,F.cliente.cpf]])]),(0,l._)("div",_,[b,(0,l.wy)((0,l._)("input",{type:"text",id:"telefone","onUpdate:modelValue":o[2]||(o[2]=e=>F.cliente.phone=e),class:"form-control",placeholder:"Seu Telefone"},null,512),[[a.nr,F.cliente.phone]])]),(0,l._)("div",y,[g,(0,l.wy)((0,l._)("input",{type:"email",id:"email","onUpdate:modelValue":o[3]||(o[3]=e=>F.cliente.email=e),class:"form-control",placeholder:"Seu Email"},null,512),[[a.nr,F.cliente.email]])]),v,(0,l._)("div",w,[U,(0,l._)("div",C,[(0,l.wy)((0,l._)("input",{type:"text",id:"cep","onUpdate:modelValue":o[4]||(o[4]=e=>F.endereco.cep=e),class:"form-control",placeholder:"Seu CEP"},null,512),[[a.nr,F.endereco.cep]]),(0,l._)("div",E,[(0,l._)("button",{type:"button",class:"btn btn-secondary",onClick:o[5]||(o[5]=(...e)=>L.buscarCep&&L.buscarCep(...e))}," Buscar ")])])]),(0,l._)("div",S,[x,(0,l.wy)((0,l._)("input",{type:"text",id:"logradouro","onUpdate:modelValue":o[6]||(o[6]=e=>F.endereco.logradouro=e),class:"form-control",placeholder:"Seu Logradouro"},null,512),[[a.nr,F.endereco.logradouro]])]),(0,l._)("div",V,[k,(0,l.wy)((0,l._)("input",{type:"text",id:"complemento","onUpdate:modelValue":o[7]||(o[7]=e=>F.endereco.complemento=e),class:"form-control",placeholder:"Seu Complemento"},null,512),[[a.nr,F.endereco.complemento]])]),(0,l._)("div",$,[Z,(0,l.wy)((0,l._)("input",{type:"text",id:"bairro","onUpdate:modelValue":o[8]||(o[8]=e=>F.endereco.bairro=e),class:"form-control",placeholder:"Seu Bairro"},null,512),[[a.nr,F.endereco.bairro]])]),(0,l._)("div",D,[P,(0,l.wy)((0,l._)("input",{type:"text",id:"localidade","onUpdate:modelValue":o[9]||(o[9]=e=>F.endereco.localidade=e),class:"form-control",placeholder:"Sua Localidade"},null,512),[[a.nr,F.endereco.localidade]])]),(0,l._)("div",T,[I,(0,l.wy)((0,l._)("input",{type:"text",id:"uf","onUpdate:modelValue":o[10]||(o[10]=e=>F.endereco.uf=e),class:"form-control",placeholder:"Sua UF"},null,512),[[a.nr,F.endereco.uf]])]),(0,l._)("button",{type:"submit",class:"btn btn-primary btn-block",onClick:o[11]||(o[11]=(...e)=>L.salvar&&L.salvar(...e))}," Salvar ")])])])])])])}var F=r(4161),L=r(1598),B=r(680),N={name:"accont",data(){return{endurl:"https://rechargeapi.azurewebsites.net/",userId:null,jwtDecoded:null,cliente:{name:"",cpf:"",email:"",phone:""},endereco:{cep:"",logradouro:"",complemento:"",bairro:"",localidade:"",uf:""}}},created(){const e=B.Z.get("authToken");if(e)try{const o=(0,L.Z)(e);if(o){this.jwtDecoded=o;const e=o.Id;console.log("Token decodificado:",e),F.Z.get(`${this.endurl}/Users/${e}`).then((e=>{this.cliente=e.data})).catch((e=>{console.error("Erro ao buscar os dados do usuário:",e)}))}}catch(o){console.error("Erro ao decodificar o JWT:",o)}},methods:{async fetchUserData(){try{await F.Z.get(`${this.endurl}/Users/${this.userId}`)}catch(e){console.error("Erro ao buscar dados do usuário:",e)}},async buscarCep(){try{const e=await F.Z.get(`${this.endurl}/Address/viacep/${this.endereco.cep}`),o=e.data;this.endereco.logradouro=o.logradouro||"",this.endereco.complemento=o.complemento||"",this.endereco.bairro=o.bairro||"",this.endereco.localidade=o.localidade||"",this.endereco.uf=o.uf||""}catch(e){console.error("Erro ao buscar o CEP:",e)}},async salvar(){try{const e={cliente:this.cliente,endereco:this.endereco},o=await F.Z.put(`${this.endurl}/Users/${this.jwtDecoded.Id}`,e);200===o.status?console.log("Dados salvos com sucesso!"):console.error("Erro ao salvar os dados:",o.statusText)}catch(e){console.error("Erro ao salvar os dados:",e)}}}},z=r(89);const A=(0,z.Z)(N,[["render",j]]);var J=A}}]);
//# sourceMappingURL=823.20532b57.js.map