{"version":3,"file":"js/823.20532b57.js","mappings":"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","sources":["webpack://frontend/./src/components/Accont.vue","webpack://frontend/./src/components/Accont.vue?70e7"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row justify-content-center mt-5\">\r\n      <div class=\"col-md-8\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h2 class=\"mb-0\">Sua Conta</h2>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <form>\r\n              <!-- Informações Pessoais -->\r\n              <h4 class=\"mb-3\">Informações Pessoais</h4>\r\n              <div class=\"form-group\">\r\n                <label for=\"nome\">Nome:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"nome\"\r\n                  v-model=\"cliente.name\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Seu Nome\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label for=\"cpf\">CPF:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"cpf\"\r\n                  v-model=\"cliente.cpf\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Seu CPF\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label for=\"telefone\">Telefone:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"telefone\"\r\n                  v-model=\"cliente.phone\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Seu Telefone\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label for=\"email\">Email:</label>\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  v-model=\"cliente.email\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Seu Email\"\r\n                />\r\n              </div>\r\n\r\n              <!-- Campos de Endereço -->\r\n              <h4 class=\"mb-3\">Endereço</h4>\r\n              <div class=\"form-group\">\r\n                <label for=\"cep\">CEP:</label>\r\n                <div class=\"input-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"cep\"\r\n                    v-model=\"endereco.cep\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Seu CEP\"\r\n                  />\r\n                  <div class=\"input-group-append\">\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-secondary\"\r\n                      @click=\"buscarCep\"\r\n                    >\r\n                      Buscar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label for=\"logradouro\">Logradouro:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"logradouro\"\r\n                  v-model=\"endereco.logradouro\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Seu Logradouro\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label for=\"complemento\">Complemento:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"complemento\"\r\n                  v-model=\"endereco.complemento\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Seu Complemento\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label for=\"bairro\">Bairro:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"bairro\"\r\n                  v-model=\"endereco.bairro\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Seu Bairro\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label for=\"localidade\">Localidade:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"localidade\"\r\n                  v-model=\"endereco.localidade\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Sua Localidade\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label for=\"uf\">UF:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"uf\"\r\n                  v-model=\"endereco.uf\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Sua UF\"\r\n                />\r\n              </div>\r\n\r\n              <button type=\"submit\" class=\"btn btn-primary btn-block\" @click=\"salvar\">\r\n                Salvar\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport default {\r\n  name: \"accont\",\r\n  data() {\r\n    return {\r\n      endurl: \"https://rechargeapi.azurewebsites.net/\",\r\n      userId: null,\r\n      jwtDecoded: null,\r\n\r\n      cliente: {\r\n        name: \"\",\r\n        cpf: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n      },\r\n      endereco: {\r\n        cep: \"\",\r\n        logradouro: \"\",\r\n        complemento: \"\",\r\n        bairro: \"\",\r\n        localidade: \"\",\r\n        uf: \"\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    const jwtCookie = Cookies.get(\"authToken\");\r\n\r\n    // Decode JWT token\r\n    if (jwtCookie) {\r\n      try {\r\n        const decodedToken = jwtDecode(jwtCookie);\r\n\r\n        if (decodedToken) {\r\n          this.jwtDecoded = decodedToken;\r\n          // Acesse o campo correto do JWT para obter o ID do usuário\r\n          const userId = decodedToken.Id; // Substitua 'sub' pelo campo correto em seu JWT\r\n          console.log(\"Token decodificado:\", userId);\r\n          // Faça uma solicitação Axios para buscar os dados do usuário\r\n          axios\r\n            .get(`${this.endurl}/Users/${userId}`)\r\n            .then((response) => {\r\n              // Preencha os dados do usuário no formulário com base na resposta\r\n              this.cliente = response.data;\r\n              //console.log(\"Cliente:\", this.cliente);\r\n            })\r\n            .catch((error) => {\r\n              console.error(\"Erro ao buscar os dados do usuário:\", error);\r\n            });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Erro ao decodificar o JWT:\", error);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUserData() {\r\n      try {\r\n        const response = await axios.get(\r\n          `${this.endurl}/Users/${this.userId}`\r\n        );\r\n        // Manipule os dados do usuário aqui e preencha o formulário\r\n      } catch (error) {\r\n        console.error(\"Erro ao buscar dados do usuário:\", error);\r\n      }\r\n    },\r\n    async buscarCep() {\r\n      try {\r\n        const response = await axios.get(`${this.endurl}/Address/viacep/${this.endereco.cep}`);\r\n        const data = response.data;\r\n\r\n        // Atualize os campos do endereço com os dados obtidos\r\n        this.endereco.logradouro = data.logradouro || \"\";\r\n        this.endereco.complemento = data.complemento || \"\";\r\n        this.endereco.bairro = data.bairro || \"\";\r\n        this.endereco.localidade = data.localidade || \"\";\r\n        this.endereco.uf = data.uf || \"\";\r\n      } catch (error) {\r\n        console.error(\"Erro ao buscar o CEP:\", error);\r\n        // Trate os erros de acordo com as necessidades do seu projeto\r\n      }\r\n    },\r\n    async salvar() {\r\n      try {\r\n        // Construa um objeto com os dados do cliente e do endereço\r\n        const dadosParaSalvar = {\r\n          cliente: this.cliente,\r\n          endereco: this.endereco,\r\n        };\r\n\r\n        // Faça uma solicitação Put para salvar os dados no servidor\r\n        const response = await axios.put(\r\n          `${this.endurl}/Users/${this.jwtDecoded.Id}`, // Substitua pela URL correta de salvamento no servidor\r\n          dadosParaSalvar\r\n        );\r\n\r\n        if (response.status === 200) {\r\n          console.log(\"Dados salvos com sucesso!\");\r\n          // Redirecione ou faça outra ação após o salvamento bem-sucedido\r\n        } else {\r\n          console.error(\"Erro ao salvar os dados:\", response.statusText);\r\n          // Trate erros de acordo com as necessidades do seu projeto\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Erro ao salvar os dados:\", error);\r\n        // Trate erros de rede ou outros erros\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import { render } from \"./Accont.vue?vue&type=template&id=54c9ee70\"\nimport script from \"./Accont.vue?vue&type=script&lang=js\"\nexport * from \"./Accont.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","type","id","$data","cliente","name","$event","placeholder","_hoisted_10","_hoisted_11","cpf","_hoisted_12","_hoisted_13","phone","_hoisted_14","_hoisted_15","email","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","endereco","cep","_hoisted_20","onClick","_cache","args","$options","buscarCep","_hoisted_21","_hoisted_22","logradouro","_hoisted_23","_hoisted_24","complemento","_hoisted_25","_hoisted_26","bairro","_hoisted_27","_hoisted_28","localidade","_hoisted_29","_hoisted_30","uf","salvar","data","endurl","userId","jwtDecoded","created","jwtCookie","Cookies","get","decodedToken","jwtDecode","this","Id","console","log","axios","then","response","catch","error","methods","async","dadosParaSalvar","put","status","statusText","__exports__","render"],"sourceRoot":""}