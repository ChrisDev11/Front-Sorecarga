{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      user: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n  },\n  methods: {\n    signup() {\n      this.$router.push({\n        name: 'Register'\n      });\n    },\n    login() {\n      if (this.checkValidation()) {\n        axios.post(\"https://localhost:3000/Users/Login/\", this.user).then(response => {\n          if (response.data.email) {\n            console.log(response.data.token); // LOG tested user\n            localStorage.setItem('token', JSON.stringify(response.data.token));\n            response.data.token = \"\";\n            localStorage.setItem('user', JSON.stringify(response.data));\n            this.$router.push({\n              name: \"Dashboard\"\n            });\n          }\n        }).catch(error => {\n          if (error.response) {\n            Swal.fire(error.response.data);\n          }\n        });\n      }\n      // console.log(this.checkValidation());\n    },\n\n    checkValidation() {\n      if (!this.user.email) {\n        this.$refs.email.focus();\n        Swal.fire(\"Coloque o Usuario\");\n        return;\n      }\n      if (!this.user.email) {\n        this.$refs.password.focus();\n        Swal.fire(\"Coloque a Senha\");\n        return;\n      }\n      return true;\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","name","data","user","username","password","methods","signup","$router","push","login","checkValidation","post","then","response","email","console","log","token","localStorage","setItem","JSON","stringify","catch","error","fire","$refs","focus"],"sources":["C:\\Users\\11\\Desktop\\frontend\\src\\components\\Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"col-md-12\">\r\n  <div class=\"container\">\r\n    <h3 class=\"e-shop-front\">Página de Login</h3>\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <div class=\"form-group\">\r\n          <label for=\"username\">Usuário</label>\r\n          <input v-model=\"user.username\" ref=\"username\" type=\"text\" class=\"form-control\" placeholder=\"Usuário\" name=\"username\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"pwd\">Senha</label>\r\n          <input v-model=\"user.password\" ref=\"psw\" type=\"password\" class=\"form-control\" placeholder=\"Senha\" name=\"pwd\">\r\n        </div>\r\n        <div class=\"form-group form-check\">\r\n          <input class=\"form-check-input\" type=\"checkbox\" id=\"remember\" name=\"remember\">\r\n          <label class=\"form-check-label\" for=\"remember\">Lembrar-me</label>\r\n        </div>\r\n        <div class=\"clearfix\">\r\n          <button type=\"button\" class=\"btn btn-primary\" v-on:click=\"login\">Entrar</button>\r\n          <button type=\"button\" class=\"btn btn-secondary\" v-on:click=\"signup\">Registrar-se</button>\r\n        </div>\r\n      </div>               \r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n    name: 'Login',\r\n\r\n    data(){\r\n        return{\r\n            user:{\r\n                username:\"\",\r\n                password:\"\"\r\n            }\r\n        }\r\n    },\r\n\r\n    methods:{\r\n        signup(){\r\n            this.$router.push({name: 'Register'})\r\n        },\r\n        login(){\r\n            if(this.checkValidation()){\r\n                axios.post(\"https://localhost:3000/Users/Login/\",this.user)\r\n                    .then(response =>{\r\n                        if(response.data.email){\r\n                            console.log(response.data.token); // LOG tested user\r\n                            localStorage.setItem('token', JSON.stringify(response.data.token));\r\n                            response.data.token =\"\";\r\n                            localStorage.setItem('user', JSON.stringify(response.data));\r\n                            this.$router.push({name:\"Dashboard\"});\r\n\r\n                        }\r\n                    })\r\n                    \r\n                    .catch(error =>{\r\n                        if(error.response){\r\n                            Swal.fire(error.response.data);\r\n                        }\r\n\r\n                    });\r\n            }\r\n            // console.log(this.checkValidation());\r\n        },\r\n        checkValidation(){\r\n            if(!this.user.email){\r\n                this.$refs.email.focus();\r\n                Swal.fire(\"Coloque o Usuario\");\r\n                return;\r\n            }\r\n            if(!this.user.email){\r\n                this.$refs.password.focus();\r\n                Swal.fire(\"Coloque a Senha\");\r\n                return;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container{\r\n    max-width: 360px;\r\n    }\r\n\r\n</style>"],"mappings":";AA8BA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,IAAG,MAAO,aAAY;AAE7B,eAAe;EACXC,IAAI,EAAE,OAAO;EAEbC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,IAAI,EAAC;QACDC,QAAQ,EAAC,EAAE;QACXC,QAAQ,EAAC;MACb;IACJ;EACJ,CAAC;EAEDC,OAAO,EAAC;IACJC,MAAMA,CAAA,EAAE;MACJ,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAACR,IAAI,EAAE;MAAU,CAAC;IACxC,CAAC;IACDS,KAAKA,CAAA,EAAE;MACH,IAAG,IAAI,CAACC,eAAe,CAAC,CAAC,EAAC;QACtBZ,KAAK,CAACa,IAAI,CAAC,qCAAqC,EAAC,IAAI,CAACT,IAAI,EACrDU,IAAI,CAACC,QAAO,IAAI;UACb,IAAGA,QAAQ,CAACZ,IAAI,CAACa,KAAK,EAAC;YACnBC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACZ,IAAI,CAACgB,KAAK,CAAC,EAAE;YAClCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACR,QAAQ,CAACZ,IAAI,CAACgB,KAAK,CAAC,CAAC;YAClEJ,QAAQ,CAACZ,IAAI,CAACgB,KAAI,GAAG,EAAE;YACvBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACR,QAAQ,CAACZ,IAAI,CAAC,CAAC;YAC3D,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC;cAACR,IAAI,EAAC;YAAW,CAAC,CAAC;UAEzC;QACJ,CAAC,EAEAsB,KAAK,CAACC,KAAI,IAAI;UACX,IAAGA,KAAK,CAACV,QAAQ,EAAC;YACdd,IAAI,CAACyB,IAAI,CAACD,KAAK,CAACV,QAAQ,CAACZ,IAAI,CAAC;UAClC;QAEJ,CAAC,CAAC;MACV;MACA;IACJ,CAAC;;IACDS,eAAeA,CAAA,EAAE;MACb,IAAG,CAAC,IAAI,CAACR,IAAI,CAACY,KAAK,EAAC;QAChB,IAAI,CAACW,KAAK,CAACX,KAAK,CAACY,KAAK,CAAC,CAAC;QACxB3B,IAAI,CAACyB,IAAI,CAAC,mBAAmB,CAAC;QAC9B;MACJ;MACA,IAAG,CAAC,IAAI,CAACtB,IAAI,CAACY,KAAK,EAAC;QAChB,IAAI,CAACW,KAAK,CAACrB,QAAQ,CAACsB,KAAK,CAAC,CAAC;QAC3B3B,IAAI,CAACyB,IAAI,CAAC,iBAAiB,CAAC;QAC5B;MACJ;MACA,OAAO,IAAI;IACf;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}