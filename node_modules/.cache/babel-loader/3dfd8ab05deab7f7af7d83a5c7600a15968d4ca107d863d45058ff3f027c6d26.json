{"ast":null,"code":"import SideBarDash from \"@/components/SideBarDash.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"Neworder\",\n  components: {\n    SideBarDash\n  },\n  data() {\n    return {\n      purchases: [],\n      userName: {}\n    };\n  },\n  created() {\n    this.fetchPurchaseData();\n    axios.get(\"https://localhost:3000/Users\").then(response => {\n      response.data.forEach(users => {\n        this.userNames[users.id] = user.name;\n      });\n    });\n  },\n  methods: {\n    fetchPurchaseData() {\n      axios.get('https://localhost:3000/Purchase').then(async response => {\n        const purchases = response.data;\n\n        // Agora vamos buscar os detalhes do usuário para cada compra\n        for (const purchase of purchases) {\n          await this.fetchUserDetails(purchase.userId).then(userDetails => {\n            // Adicione os detalhes do usuário à compra\n            purchase.userName = userDetails.name;\n          }).catch(error => {\n            console.error('Erro ao buscar detalhes do usuário:', error);\n          });\n        }\n\n        // Atualize os dados de compra com os detalhes do usuário\n        this.purchases = purchases;\n      }).catch(error => {\n        console.error('Erro ao buscar dados de compra:', error);\n      });\n    },\n    fetchUserDetails(userId) {\n      // Faça uma solicitação GET para buscar os detalhes do usuário\n      return axios.get(`https://localhost:3000/Users/${userId}`);\n    }\n  }\n};","map":{"version":3,"names":["SideBarDash","axios","name","components","data","purchases","userName","created","fetchPurchaseData","get","then","response","forEach","users","userNames","id","user","methods","purchase","fetchUserDetails","userId","userDetails","catch","error","console"],"sources":["C:\\Users\\11\\Desktop\\frontend\\src\\views\\PainelAdm\\Neworder.vue"],"sourcesContent":["<template>\r\n  \r\n    <div class=\"d-flex\">\r\n\r\n<SideBarDash class=\"flex-shrink-0\" />\r\n<div class=\"container\">\r\n<h1>Painel de Acompanhamento de Vendas</h1>\r\n\r\n    <!-- Tabela de Vendas -->\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Número da Venda</th>\r\n          <th>Nome do Cliente</th>\r\n          <th>Data da Compra</th>\r\n          <th>Processo</th>\r\n          <th>Confirmar Pagamento</th>\r\n          <th>Valor Total</th>\r\n          <th>Detalhes</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"purchase in purchases\" :key=\"purchase.id\">\r\n          <td>{{ purchase.id }}</td>\r\n          <td>{{ userName[users.id] || \"N\"}}</td>\r\n          <td>{{ purchase.buyDate }}</td>\r\n          <td>{{ purchase.status }}</td>\r\n          <td>\r\n            <button>Confirmar</button>\r\n          </td>\r\n          <!-- <td>{{ purchase.payment }}</td> -->\r\n          \r\n          <td>\r\n            <button @click=\"viewDetails(purchase.id)\" class=\"btn btn-primary\">Detalhes</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n</div>\r\n</div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport SideBarDash from \"@/components/SideBarDash.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Neworder\",\r\n  components: {\r\n    SideBarDash,\r\n  },\r\n  data() {\r\n    return {\r\n      purchases: [],\r\n      userName: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchPurchaseData();\r\n    axios\r\n      .get(\"https://localhost:3000/Users\")\r\n      .then((response) => {\r\n        response.data.forEach((users) => {\r\n          this.userNames[users.id] = user.name;\r\n        });\r\n      })\r\n  },\r\n  methods: {\r\n    fetchPurchaseData() {\r\n      axios.get('https://localhost:3000/Purchase')\r\n        .then(async (response) => {\r\n          const purchases = response.data;\r\n\r\n          // Agora vamos buscar os detalhes do usuário para cada compra\r\n          for (const purchase of purchases) {\r\n            await this.fetchUserDetails(purchase.userId)\r\n              .then((userDetails) => {\r\n                // Adicione os detalhes do usuário à compra\r\n                purchase.userName = userDetails.name;\r\n              })\r\n              .catch((error) => {\r\n                console.error('Erro ao buscar detalhes do usuário:', error);\r\n              });\r\n          }\r\n\r\n          // Atualize os dados de compra com os detalhes do usuário\r\n          this.purchases = purchases;\r\n        })\r\n        .catch((error) => {\r\n          console.error('Erro ao buscar dados de compra:', error);\r\n        });\r\n    },\r\n    fetchUserDetails(userId) {\r\n      // Faça uma solicitação GET para buscar os detalhes do usuário\r\n      return axios.get(`https://localhost:3000/Users/${userId}`);\r\n    },\r\n  },\r\n};\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"mappings":"AA8CA,OAAOA,WAAU,MAAO,8BAA8B;AACtD,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,CAAC;IACb,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,iBAAiB,CAAC,CAAC;IACxBP,KAAI,CACDQ,GAAG,CAAC,8BAA8B,EAClCC,IAAI,CAAEC,QAAQ,IAAK;MAClBA,QAAQ,CAACP,IAAI,CAACQ,OAAO,CAAEC,KAAK,IAAK;QAC/B,IAAI,CAACC,SAAS,CAACD,KAAK,CAACE,EAAE,IAAIC,IAAI,CAACd,IAAI;MACtC,CAAC,CAAC;IACJ,CAAC;EACL,CAAC;EACDe,OAAO,EAAE;IACPT,iBAAiBA,CAAA,EAAG;MAClBP,KAAK,CAACQ,GAAG,CAAC,iCAAiC,EACxCC,IAAI,CAAC,MAAOC,QAAQ,IAAK;QACxB,MAAMN,SAAQ,GAAIM,QAAQ,CAACP,IAAI;;QAE/B;QACA,KAAK,MAAMc,QAAO,IAAKb,SAAS,EAAE;UAChC,MAAM,IAAI,CAACc,gBAAgB,CAACD,QAAQ,CAACE,MAAM,EACxCV,IAAI,CAAEW,WAAW,IAAK;YACrB;YACAH,QAAQ,CAACZ,QAAO,GAAIe,WAAW,CAACnB,IAAI;UACtC,CAAC,EACAoB,KAAK,CAAEC,KAAK,IAAK;YAChBC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;UAC7D,CAAC,CAAC;QACN;;QAEA;QACA,IAAI,CAAClB,SAAQ,GAAIA,SAAS;MAC5B,CAAC,EACAiB,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD,CAAC,CAAC;IACN,CAAC;IACDJ,gBAAgBA,CAACC,MAAM,EAAE;MACvB;MACA,OAAOnB,KAAK,CAACQ,GAAG,CAAE,gCAA+BW,MAAO,EAAC,CAAC;IAC5D;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}